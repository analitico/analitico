<div class="ao-home-view">
    <div class="ao-padding">
        <div *ngIf="!query">
            We show clusters of objects
            <a mat-raised-button (click)="createNewRecipe()">
                New recipe
            </a>
        </div>
        <div *ngIf="query">
            <h1 class="mat-h1">Search: {{query}}</h1>
            <div class="ao-margin-top">
                <table mat-table [dataSource]="tableDS" matSort class="mat-elevation-z8" style="width: 100%;">
                    <ng-container matColumnDef="type">
                        <th mat-header-cell *matHeaderCellDef mat-sort-header> Type </th>
                        <td mat-cell *matCellDef="let element" title="{{element.type}}">
                            {{element.type}}
                        </td>
                    </ng-container>
                    <ng-container matColumnDef="attributes.title">
                        <th mat-header-cell *matHeaderCellDef mat-sort-header> Title </th>
                        <td mat-cell *matCellDef="let element" title="{{element.id}}">
                            {{element.attributes.title || element.id}}
                        </td>
                    </ng-container>

                    <ng-container matColumnDef="attributes.updated_at">
                        <th mat-header-cell *matHeaderCellDef mat-sort-header> Updated At </th>
                        <td mat-cell *matCellDef="let element">
                            {{element.attributes.updated_at | date:'dd/MM/yyyy HH:mm:ss'}}
                        </td>
                    </ng-container>

                    <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
                    <tr mat-row *matRowDef="let row; columns: displayedColumns;"
                        routerLink="{{row.links.self.substring(row.links.self.indexOf('/api/') + 4)}}"
                        class="ao-clickable">
                    </tr>
                </table>
            </div>
        </div>
    </div>


</div>